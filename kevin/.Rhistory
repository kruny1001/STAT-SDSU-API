getwd()
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
install.packages("plumber")
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8000)
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8000)
# Example from http://sachsmc.github.io/plotROC/
library(ggplot2)
library(plotROC)
# I start by creating an example data set. There are 2 markers,
# one that is moderately predictive and one that is not as predictive.
set.seed(2529)
D.ex <- rbinom(200, size = 1, prob = .5)
M1 <- rnorm(200, mean = D.ex, sd = .65)
M2 <- rnorm(200, mean = D.ex, sd = 1.5)
test <- data.frame(D = D.ex, D.str = c("Healthy", "Ill")[D.ex + 1],
M1 = M1, M2 = M2, stringsAsFactors = FALSE)
# The Roc Geom
# Next I use the ggplot function to define the aesthetics, and
# the geom_roc function to add an ROC curve layer.
basicplot <- ggplot(test, aes(d = D, m = M1)) + geom_roc()
basicplot
install.packages("plotROC")
# Example from http://sachsmc.github.io/plotROC/
library(ggplot2)
library(plotROC)
# I start by creating an example data set. There are 2 markers,
# one that is moderately predictive and one that is not as predictive.
set.seed(2529)
D.ex <- rbinom(200, size = 1, prob = .5)
M1 <- rnorm(200, mean = D.ex, sd = .65)
M2 <- rnorm(200, mean = D.ex, sd = 1.5)
test <- data.frame(D = D.ex, D.str = c("Healthy", "Ill")[D.ex + 1],
M1 = M1, M2 = M2, stringsAsFactors = FALSE)
# The Roc Geom
# Next I use the ggplot function to define the aesthetics, and
# the geom_roc function to add an ROC curve layer.
basicplot <- ggplot(test, aes(d = D, m = M1)) + geom_roc()
basicplot
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
getwd()
#run Server
#getwd()
library(plumber)
r <- plumb("/Users/kruny1001/Desktop/shiny/plumber-service/kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
#run Server
#getwd()
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("kevin.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
p <- p + geom_point(data = subset(table, Bad == "1"), aes(x = Quarterly_Fico_Score, y = Behavior_Score, color = factor(Bad)), color="red", size=2)
#run Server
#getwd()
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
#getwd()
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")  # Where 'myfile.R' is the location of the file shown above
r$run(port=8001, swagger=TRUE)
install.packages("data.table")
install.packages("ggplot2")
install.packages("caret")
install.packages("RCurl")
q()
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
readGMT <- function (fileName){
x <- scan(fileName, what="", sep="\n")
x <- strsplit(x, "\t")
# Extract the first vector element and set it as the list element name
names(x) <- sapply(x, `[[`, 1)
x <- lapply(x, `[`, -c(1,2)) # 2nd element is comment, ignored
x = x[which(sapply(x,length) > 1)]  # gene sets smaller than 1 is ignored!!!
return(x)
}
files <- list.files("gmt", pattern = "*gmt")
files
files <- list.files("gmt", pattern = "*gmt")
files
geneSets <- readGMT(paste("gmt/",files[1],sep=""))
geneSets
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
readGMT <- function (fileName){
x <- scan(fileName, what="", sep="\n")
x <- strsplit(x, "\t")
# Extract the first vector element and set it as the list element name
names(x) <- sapply(x, `[[`, 1)
x <- lapply(x, `[`, -c(1,2)) # 2nd element is comment, ignored
x = x[which(sapply(x,length) > 1)]  # gene sets smaller than 1 is ignored!!!
return(x)
}
files <- list.files("gmt", pattern = "*gmt")
geneSets <- readGMT(paste("gmt/",files[index],sep=""))
geneSets <- readGMT(paste("gmt/",files[index],sep=""))
index<-1
geneSets <- readGMT(paste("gmt/",files[index],sep=""))
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
sqrt(125)
sqrt(125) * -.3595
_
(sqrt(125) * -.3595)^2
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
geneSets
summary(geneSets)
data.table(summary(geneSets))
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
r <- GET("http://localhost:8001/data")
r
r <- GET("http://localhost:8001/data")
library(httr)
r <- GET("http://localhost:8001/data")
r
names(r)
r$content
content(r, "parsed")
data <- content(r, "parsed")
data
data <- data.table(data)
View(data)
r <- GET("http://localhost:8001/data")
names(r)
data <- content(r, "parsed")
data
class(data)
data[1]
data[[1]]
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
Cstack_info()
Cstack_info()
source("./re.R")
source("./gmtMain.R")
files <- list.files("gmt", pattern = "*gmt")
geneSets1 <- readGMT(paste("gmt/",files[1],sep=""))
geneSets2 <- readGMT(paste("gmt/",files[2],sep=""))
geneSets1
dd <- setDT(geneSets1, TRUE)
typeof(geneSets1[1])
typeof(geneSets1)
typeof(geneSets1[1])
typeof(geneSets1[1][1:2])
geneSets1[1][1:2]
geneSets1[1][1:2,]
geneSets1[1]
geneSets1[1][[1:2]]
geneSets1[1][[1:3]]
geneSets1[1][[2]]
geneSets1[1][[1]]
geneSets1[1][[1:2,]]
geneSets1[1][[1:2]]
geneSets1[1][[]]
geneSets1[1][]
geneSets1[[1]]
geneSets1[[1]][1:2]
names(geneSets1)
geneSets1[[1]][1:2]
geneSets1[[1]]
geneSets1[[1]][0]
geneSets1[[1]][1]
names(geneSets1[[1]])
geneSets1[[1]]
names(geneSets1)[1]
typeof(geneSets1[1][1:2])
geneT <- append(geneSets1, geneSets2)
typeof(geneT)
names(geneT)
gc(
# user can query to get all file names
files <- list.files("gmt", pattern = "*gmt")
geneSets1 <- readGMT(paste("gmt/",files[1],sep=""))
geneSets2 <- readGMT(paste("gmt/",files[2],sep=""))
typeof(geneSets1)
geneT <- append(geneSets1, geneSets2)
typeof(geneT)
names(geneSets1)[1]
geneSets1[[1]] # Access data by index
dd <- setDT(geneSets1, TRUE)
setDT(geneSets1[1], FALSE)
gmtFiles <- (list(geneSets1, geneSets2))
# List GMT data files
#* @get /gmtFiles
gmtFiles <- function(){
files <- list.files("gmt", pattern = "*gmt")
}
# Extract List ID from start to limit
#* @get /gmtColNames/<fileIdx:int>/<start:int>/<limit:int>
gmtSumm <- function(fileIdx=1, start, limit){
geneSets <- gmtFiles[1]
names(geneSets) <- data.table()gmtFiles[fileIdx]
colName <- names(geneSets)
list(names= colName[start:limit],
numCol=length(colName),
meg=paste("data limit is ", limit))
}
#Extract Target List by ID
# /gmtColData/GOBP_hsa_ens_GO:0000003_reproduction
#* @get /gmtColData/<id>
gmtData <- function(id){
colName <- names(geneSets)
list(
id = id,
data= geneSets[[paste(id, '')]],
meg=paste("data name is ", id))
}
###################################3
#* @get /mean
normalMean <- function(samples=10){
print(gains())
mean(gains())
}
#* @png
#* @get /hello
normalMean <- function(samples=10){
p <- scotterPlot(table)
print(p)
}
#* @get /gains
gains <- function(){
createTableG(table)
}
#* @post /sum
addTwo <- function(a, b){
as.numeric(a) + as.numeric(b) + 20
gains()
}
gc()
rm(geneSets1)
gc()
gc(verbose=T)
rm(geneSets2)
gc(verbose=T)
geneT <- append(
readGMT(paste("gmt/",files[1],sep="")),
readGMT(paste("gmt/",files[2],sep=""))
)
typeof(geneT)
geneT[[1]] # Access data by index
names(geneT)[1]
names(geneT)[1:2]
targetName <- names(geneT)[start:limit]
start=1, limit=1
start=1
limit=1
targetName <- names(geneT)[start:limit]
targetName
1:2
start:limit
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
?trim
?trimws
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
geneT[[1]]
geneT[[1]][1:1]
geneT
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8000)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
#run Server
library(plumber)
r <- plumb("main.R")
r$run(port=8001)
